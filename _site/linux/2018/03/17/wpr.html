<!DOCTYPE html>
<html>
<head>
  <title>Hisfantor</title>
  <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
  <script type="text/javascript" src="http://livejs.com/live.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<link rel="shortcut icon" href="/assets/pictures/snoo.ico">
</head>
<body>
<header class="my-site-header">
    <div class="header-banner"> 
      <h1>Hisfantor</h1>
    </div>
    <nav>
      <a onclick="togglearchive()">Archive</a>
     
      <a target="_blank" href="/about.html">About</a>
      <a onclick="totop()">top</a>
    </nav>
</header>
<sidebar id="archive">

  <div class="archive-group">
    
    
    <h3 class="category-head">linux:</h3>
    <ul>
    
      <li class="archive-item" ><a href="/linux/2018/12/30/day30.html" target="_blank">December 30 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/2018/12/27/day27.html" target="_blank">December 27 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/2018/12/26/updates.html" target="_blank">December 26 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/05/day5.html" target="_blank">December 05 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/04/day4.html" target="_blank">December 04 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/03/day3.html" target="_blank">December 03 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/02/day2.html" target="_blank">December 02 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/01/day1.html" target="_blank">December 01 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/2018/03/22/rofi-n-stuff.html" target="_blank">bash alias in rofi</a></li>
    
    
      <li class="archive-item" ><a href="/linux/2018/03/17/wpr.html" target="_blank">random desktop wallpaper</a></li>
    
    </ul>
  </div>

  <div class="archive-group">
    
    
    <h3 class="category-head">podcasts:</h3>
    <ul>
    
      <li class="archive-item" ><a href="/podcasts/2018/04/15/podcasts.html" target="_blank">some Podcasts</a></li>
    
    </ul>
  </div>

  <div class="archive-group">
    
    
    <h3 class="category-head">raspberry:</h3>
    <ul>
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/05/day5.html" target="_blank">December 05 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/04/day4.html" target="_blank">December 04 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/03/day3.html" target="_blank">December 03 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/02/day2.html" target="_blank">December 02 2018</a></li>
    
    
      <li class="archive-item" ><a href="/linux/raspberry/2018/12/01/day1.html" target="_blank">December 01 2018</a></li>
    
    </ul>
  </div>

</sidebar>


<section id="page">
<h1>random desktop wallpaper</h1>  
<span>17 March 2018</span>
  <h1 id="dependencies">Dependencies:</h1>

<ul>
  <li><a href="https://github.com/markubiak/wallpaper-reddit">this</a> github project</li>
  <li>feh (sudo apt install feh)</li>
  <li>i3wm</li>
</ul>

<h1 id="setup">Setup:</h1>

<p>first off the settings file of wpr(.config/wallpaper-reddit/wallpaper-reddit.conf):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Options]
    subs = earthporn,spaceporn,cyberpunk,digitalpainting,wallpapers,alternativeart
    minwidth = 1920
    minheight = 1080
    maxlinks = 20
    resize = True
    random = True
[Startup]
    attempts = 0
    interval = 0
[Save]
    directory = ~/Pictures/Wallpaper-reddit
</code></pre></div></div>

<p>next the script(.config/i3/wpr.sh):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">rm</span> ~/Pictures/Wallpaper-reddit/wallpaper0.jpg      
wallpaper-reddit <span class="nt">--random</span>
wallpaper-reddit <span class="nt">--save</span>
feh <span class="nt">--bg-scale</span> /home/hisfantor/Pictures/Wallpaper-reddit/wallpaper0.jpg
</code></pre></div></div>

<p>and implement in i3wm(.config/i3/config):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exec_always --no-startup-id ~/.config/i3/wpr.sh
</code></pre></div></div>

<p>and just for fun a bash alias(.bash_aliases):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>alias wpr='~/.config/i3/wpr.sh'
</code></pre></div></div>

<h1 id="explanation">Explanation:</h1>

<ol>
  <li>startup of wpr is set off because i3 calls it every time it restarts</li>
  <li>the script deletes the last image which is called wallpaper0.jpg by wpr</li>
  <li>than it downloads the first best image from one of the subs</li>
  <li>it saves/downloads the image, which will be wallpaper0.jpg again</li>
  <li>feh sets the new image (location is defined in the wpr config)</li>
  <li>last i3 just starts the script whenever it starts or reloads($mod+r)</li>
  <li>a bash alias if I want to load an other image without reloading i3(consider it needs some seconds to download so don’t spam it, otherwise wpr will download multiple images and name them wallpaper1, wallpaper2, …)</li>
</ol>

</section> 
<footer>
	
</footer><script  src="/assets/js/index.js"></script>
</body>
</html>
